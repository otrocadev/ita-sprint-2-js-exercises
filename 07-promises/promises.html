<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promises & Async/Await</title>
    <link rel="stylesheet" href="../styles.css" />
    <link rel="icon" type="image/x-icon" href="/img/javascript.svg" />
    <script type="module" src="./promises.js"></script>
    <link
      rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css"
    />
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      hljs.highlightAll()
    </script>
  </head>
  <body>
    <h1>Promises & Async/Await exercises</h1>
    <div id="console-explanation">
      <span>
        All executions of the exercises will display on the console!
      </span>
      <img src="../img/arrow.svg" alt="green arrow" />
    </div>
    <article>
      <h2>Exercise 1</h2>
      <pre>
        <h3>Function declaration:</h3>
        <code class="language-javascript">
          const promise1 = new Promise((res) => {
            setTimeout(() => {
              res('Hello, world')
            }, 2000)
          })
        </code>
      </pre>
    </article>

    <article>
      <h2>Exercise 2</h2>
      <pre>
        <h3>Function declaration:</h3>
        <code class="language-javascript">
          promise1.then((res) => console.log(res))
        </code>
      </pre>
      <button id="exercise2-btn">Execute</button>
    </article>

    <article>
      <h2>Exercise 3</h2>
      <pre>
        <h3>Function declaration:</h3>
        <code class="language-javascript">
          const sayHello = async (input) => {
            return new Promise((res, err) => {
              if (input === 'Hello') {
                setTimeout(() => {
                  res('Hello, world')
                }, 2000)
                return
              }
              err('The input is not "Hello"')
            })
          }
        </code>
      </pre>
      <pre>
        <h3>Code for its execution:</h3>
        <code class="language-javascript">
          sayHello('Hola')
            .then((res) => console.log(res))
            .catch((err) => console.log(err))

          sayHello('Hello')
            .then((res) => console.log(res))
            .catch((err) => console.log(err))          
        </code>
      </pre>
      <button id="exercise3-btn">Execute</button>
    </article>

    <article>
      <h2>Exercise 4</h2>
      <pre>
        <h3>Function declaration:</h3>
        <code class="language-javascript">
          const waitForResult = async () => {
            const result = await promise1
            return result
          }
        </code>
      </pre>
      <pre>
        <h3>Code for its execution:</h3>
        <code class="language-javascript">
          waitForResult().then((res) => console.log(res))
        </code>
      </pre>
      <button id="exercise4-btn">Execute</button>
    </article>

    <article>
      <h2>Exercise 5</h2>
      <pre>
        <h3>Function declaration:</h3>
        <code class="language-javascript">
          try {
            waitForResult().then((res) => console.log(res))
          } catch (error) {
            console.log(error)
          }
        </code>
      </pre>
      <button id="exercise5-btn">Execute</button>
    </article>

    <article>
      <h2>Exercise 6</h2>
      <pre>
        <h3>Functios declaration:</h3>
        <code class="language-javascript">       
          const promise6a = new Promise((res) => {
            setTimeout(() => {
              res('I have waited for 2 seconds...')
            }, 2000)
          })

          const promise6b = new Promise((res) => {
            setTimeout(() => {
              res('Well, I have waited for 3...')
            }, 3000)
          })
        </code>
      </pre>
      <pre>
        <h3>Code for its execution:</h3>
        <code class="language-javascript">
          Promise.all([promise6a, promise6b]).then((results) => {
            console.log(results)
          })  
        </code>
      </pre>
      <button id="exercise6-btn">Execute</button>
    </article>

    <footer>
      <a class="nav-button" href="../06-array-loops/array-loops.html"
        >06 - ARRAY LOOPS</a
      >
      <a class="nav-button" href="../index.html">HOME</a>
    </footer>
  </body>
</html>
